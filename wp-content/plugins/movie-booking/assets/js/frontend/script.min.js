!function(_){"use strict";var f={init:function(){this.mb_popup_showtime(),this.cart_seat(),this.cart_total(),this.cart_discount(),this.cart_price_incl_tax(),this.cart_next(),this.countdown_checkout(),this.mb_trailer_video_popup(),this.mb_trailer_video_popup_for_slick()},mb_popup_showtime:function(){function i(a){var e;null!=a&&(e=a.closest("#mb_booking_popup"),a.on("click",function(t){t.preventDefault(),a.closest("#mb_booking_popup").hide(),a.closest("#mb_booking_popup").find(".mb-bp-content").hide()}),_(window).click(function(t){e.is(t.target)&&(a.closest("#mb_booking_popup").hide(),a.closest("#mb_booking_popup").find(".mb-bp-content").hide())}))}function c(t){null!=t&&t.on("click",function(t){t.preventDefault(),_(this).closest(".toggle-tabs").find("li").removeClass("current"),_(this).closest("li").addClass("current");t=_(this).closest("li").index();_(this).closest(".mb-showtimes").children("dl.collateral-tabs").children("dt.tab").removeClass("current"),_(this).closest(".mb-showtimes").children("dl.collateral-tabs").children("dd.tab-container").removeClass("current"),_(this).closest(".mb-showtimes").children("dl.collateral-tabs").children("dt.tab").eq(t).addClass("current"),_(this).closest(".mb-showtimes").children("dl.collateral-tabs").children("dd.tab-container").eq(t).addClass("current")})}function r(t){null!=t&&t.on("click",function(t){t.preventDefault(),_(this).closest(".toggle-tabs").find("li").removeClass("current"),_(this).closest("li").addClass("current");t=_(this).index();_(this).closest(".mb-room-types").children("dl.collateral-tabs").children("dt.tab").removeClass("current"),_(this).closest(".mb-room-types").children("dl.collateral-tabs").children("dd.tab-container").removeClass("current"),_(this).closest(".mb-room-types").children("dl.collateral-tabs").children("dt.tab").eq(t).addClass("current"),_(this).closest(".mb-room-types").children("dl.collateral-tabs").children("dd.tab-container").eq(t).addClass("current")})}_(".btn-booking").on("click",function(t){t.preventDefault();var t=_(this).data("movie-id"),a=_(".mb_booking_popup .mb-bp-container .mb-close");a.hide(),_(".mb_booking_popup").show(),_(".mb_booking_popup .mb-spinner").show(),_.post(ajax_object.ajax_url,{action:"mb_popup_showtime",data:{ajax_nonce:ajax_object.ajax_nonce,movie_id:t}},function(t){_(".mb_booking_popup .mb-bp-container .mb-bp-content").show(),_(".mb_booking_popup .mb-spinner").hide(),_(".mb_booking_popup .mb-bp-container .mb-bp-content").html("").append(t),a.css("display","flex"),i(a);t=_(".mb_booking_popup .mb-bp-container .mb-bp-content .mb-date-tabs .day");null!=(t=t)&&t.on("click",function(t){t.preventDefault();var a=_(this).data("date"),t=_(this).closest("#mb_booking_popup").find('input[name="movie_id"]').val();_(this).closest(".mb-date-tabs").find("li").removeClass("current"),_(this).closest("li").addClass("current"),_(".mb_booking_popup .mb-spinner").show(),_(this).closest("#mb_booking_popup").find(".mb-bp-content .mb-showtimes").html(""),_(this).closest("#mb_booking_popup").find(".mb-bp-content dt.tab").removeClass("current"),_(this).closest("#mb_booking_popup").find(".mb-bp-content dd.tab-container").removeClass("current");var e=_(this).closest("#mb_booking_popup").find('.mb-bp-content dt.tab[data-date="'+a+'"]').addClass("current").next("dd.tab-container").addClass("current");_.post(ajax_object.ajax_url,{action:"mb_get_showtimes",data:{ajax_nonce:ajax_object.ajax_nonce,movie_id:t,date:a}},function(t){_(".mb_booking_popup .mb-spinner").hide(),e.html("").append(t),i(_(".mb_booking_popup .mb-bp-container .mb-close")),c(_(".mb_booking_popup .mb-bp-container .mb-bp-content .collateral-tabs .mb-city-name")),r(_(".mb_booking_popup .mb-bp-container .mb-bp-content .collateral-tabs .mb-room-type-name"))})}),c(_(".mb_booking_popup .mb-bp-container .mb-bp-content .collateral-tabs .mb-city-name")),r(_(".mb_booking_popup .mb-bp-container .mb-bp-content .collateral-tabs .mb-room-type-name"))})})},cart_seat:function(){const c={KEY:"",contents:[],init:function(){c.get_key_cart();var t=localStorage.getItem(c.KEY);t?c.contents=JSON.parse(t):c.add_store()},add_store:function(){var t=JSON.stringify(c.contents);localStorage.setItem(c.KEY,t)},map_add_item:function(a,t){t={id:a,price:t};c.check_item(a)?c.contents=c.contents.map(function(t){if(t.id===a)return t}):c.contents.push(t),c.add_store()},remove:function(a){c.contents=c.contents.filter(function(t){if(t.id!==a)return!0}),c.add_store()},get_key_cart:function(){var t=_('.cart_detail input[name="cart-data"]').data("sid"),a=_('.cart_detail input[name="cart-data"]').data("rid");t&&a&&(c.KEY=t+"_"+a,Cookies.set("showtime_id",t),Cookies.set("room_id",a))},check_item:function(a){var t=c.contents.filter(function(t){return t.id==a});return!(!t||!t[0])&&t[0]},seat_map:function(){var r=_(document).find('.cart_detail input[name="data-seat"]').data("seat"),o=_(document).find('.cart_detail input[name="data-seat-booked"]').data("seat-booked"),n=[],d=[],s=_('.cart_detail input[name="cart-data"]').data("sid"),l=_('.cart_detail input[name="cart-data"]').data("rid");function p(t){var a=_('.cart_detail input[name="cart-data"]').data("tax-fee"),e=_('.cart_detail input[name="cart-data"]').data("tax-type"),a=a||0,i=_('.cart_detail input[name="cart-data"]').data("ticket-fee"),c=_('.cart_detail input[name="cart-data"]').data("ticket-fee-type"),i=i||0;_(".cart_detail .cart-sidebar .wp-content-item .info-sub-price").html(f.cart_total(t));var r=_(".cart_detail .wp-seat-info").children("span").length;_(".cart_detail .cart-sidebar .wp-content-item .item-info.item-info-map").attr("data-qty",r),_(".cart_detail .cart-sidebar .wp-content-item .item-info.item-info-map").attr("data-price",t);var o=JSON.parse(localStorage.getItem(s+"_"+l));let n=0;a&&("percent"===e&&(n=parseFloat(a)*t/100),"amount"===e&&(n=parseFloat(a))),_(".cart_detail .cart-sidebar .tax-number").empty().html("+"+f.cart_total(n)),_(".cart_detail .cart-sidebar .tax-number").attr("data-tax",n);let d=0;Array.isArray(o)&&o.length&&i&&("percent"===c&&(d=parseFloat(i)*t/100),"amount"===c&&(d=parseFloat(i))),d*=r,_(".cart_detail .cart-sidebar .ticket-fee-number").empty().html("+"+f.cart_total(d)),_(".cart_detail .cart-sidebar .ticket-fee-number").attr("data-ticket-fee",d),_(".cart_detail .cart-sidebar .total-price").html(f.cart_total(t+n+d)),Array.isArray(o)&&o.length?(_(".cart_detail .cart-sidebar .placeholder").hide(),_(".cart_detail .cart-sidebar .cart-error").hide(),_(".cart_detail .cart-sidebar .wp-content-item").show(),_(".cart_detail .cart-sidebar .item-info.item-header").css("display","flex"),n?_(".cart_detail .cart-sidebar .total-tax").css("display","flex"):_(".cart_detail .cart-sidebar .total-tax").hide(),d?_(".cart_detail .cart-sidebar .ticket-fee").css("display","flex"):_(".cart_detail .cart-sidebar .ticket-fee").hide(),_(".cart_detail .cart-sidebar .total-cart-info").attr("data-total",t+n+d),_(".cart_detail .cart-sidebar .cart-checkout").removeClass("mb-disable")):(_(".cart-info .placeholder").show(),_(".cart_detail .cart-sidebar .wp-content-item").hide(),_(".cart_detail .cart-sidebar .item-info.item-header").hide(),_(".cart_detail .cart-sidebar .total-tax").hide(),_(".cart_detail .cart-sidebar .ticket-fee").hide(),_(".cart_detail .cart-sidebar .total-cart-info").attr("data-total",0),_(".cart_detail .cart-sidebar .total-price").html(f.cart_total(0)),_(".cart_detail .cart-sidebar .cart-checkout").addClass("mb-disable"))}"undefined"!=typeof ImageMapPro&&(ImageMapPro.subscribe(t=>{"mapInit"===t.type&&function(){ImageMapPro.isMobile()||_(document).find(".cart_detail .imp-fullscreen-button").hide();let t=0,a=JSON.parse(localStorage.getItem(s+"_"+l));_(".cart_detail .cart-sidebar .wp-content-item").empty().html('<div class="item-info item-info-map"><div class="info-type-ticket"><div class="wp-seat-info"></div></div><div class="info-sub-price"></div></div>'),Array.isArray(a)&&a.length?(_(".cart_detail .cart-sidebar .wp-content-item").css("display","block"),_(".cart_detail .cart-sidebar .item-info.item-header").css("display","flex"),_(".cart_detail .cart-sidebar .total-tax").css("display","flex"),_(".cart_detail .cart-sidebar .cart-info .placeholder").css("display","none")):(_(".cart_detail .cart-sidebar .wp-content-item").css("display","none"),_(".cart_detail .cart-sidebar .item-info.item-header").css("display","none"),_(".cart_detail .cart-sidebar .total-tax").css("display","none"),_(".cart_detail .cart-sidebar .ticket-fee").css("display","none"),_(".cart_detail .cart-sidebar .cart-info .placeholder").css("display","block"));for(var e=o.length-1;0<=e;e--)for(var i=r.length-1;0<=i;i--)"-1"!=r[i].id.indexOf(o[e])&&_(document).find('.imp-objects .imp-object[data-title="'+o[e]+'"]').addClass("booked");for(i=0;i<a.length;i++){-1==_.inArray(a[i].id,n)&&(t+=f.cart_price_incl_tax(parseFloat(a[i].price)),n.push(a[i].id),d.push(a[i].price)),_(document).find('.imp-objects .imp-object[data-title="'+a[i].id+'"]').attr("selected","selected").addClass("selected");var c='<span class="seat-'+i+'">'+a[i].id+"</span>";_(".cart_detail .cart-sidebar .wp-content-item .wp-seat-info").append(c)}p(t)}(t.payload.map)}),ImageMapPro.subscribe(t=>{var i;"objectClick"===t.type&&(t.payload.map,i=t.payload.object,-1===_.inArray(i,o)&&(_(document).find('.imp-objects .imp-object[data-title="'+i+'"]').off("click").one("click touchstart",function(){var t=_(this);let a=0;if(t.hasClass("selected")){t.removeClass("selected").removeAttr("selected"),_(document).find('.imp-objects .imp-object[data-title="'+i+'"]').removeClass("selected").removeAttr("selected");for(let t=n.length-1;0<=t;t--)i==n[t]&&(n.splice(t,1),d.splice(t,1),_(document).find(".cart_detail .wp-seat-info span:nth-child("+(t+1)+")").remove(),c.remove(i));for(let t=d.length-1;0<=t;t--)a+=f.cart_price_incl_tax(parseFloat(d[t]))}else{_(".cart_detail .wp-seat-info").children("span").length,t.attr("selected","selected").addClass("selected"),_(document).find('.imp-objects .imp-object[data-title="'+i+'"]').attr("selected","selected").addClass("selected");for(let a=0;a<r.length;a++){var e='<span class="seat-'+a+'">'+i+"</span>";let t;t=r[a].id.split(","),t=t.filter(function(t){return null!=t&&""!=t&&" "!=t}),t=t.map(function(t){return t.trim()}),"-1"!=t.indexOf(i)&&(n.push(i),d.push(r[a].price),_(".cart_detail .cart-sidebar .wp-seat-info").append(e),c.map_add_item(i,r[a].price))}for(let t=d.length-1;0<=t;t--)a+=f.cart_price_incl_tax(parseFloat(d[t]))}p(a)}),_(".cart_detail .cart-sidebar .cart-discount .form-discount i").click()))}))}};c.init(),c.seat_map()},cart_total:function(t){var a=_('.cart_detail input[name="cart-data"]').data("currency-settings");if(a){var e=a.currency||"$",i=a.decimal_separator||".",c=a.thousand_separator||",",r=a.number_decimals||0;switch(t=(t=(t=parseFloat(t).toFixed(parseInt(r))).toString().replace(".",i)).toString().replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+c),a.currency_position){case"left":t=e+t;break;case"left_space":t=e+" "+t;break;case"right":t+=e;break;case"right_space":t=t+" "+e;break;default:t=e+t}return t}},cart_discount:function(){function i(t){for(var a,e=_('.cart_detail input[name="cart-data"]').data("sid"),i=_('.cart_detail input[name="cart-data"]').data("rid"),c=0,r=_('.cart_detail input[name="cart-data"]').data("tax-fee"),o=_('.cart_detail input[name="cart-data"]').data("tax-type"),r=r||0,n=_('.cart_detail input[name="cart-data"]').data("ticket-fee"),d=_('.cart_detail input[name="cart-data"]').data("ticket-fee-type"),n=n||0,s=_(".cart_detail .wp-seat-info").children("span").length,l=JSON.parse(localStorage.getItem(e+"_"+i)),p=[],m=0;m<l.length;m++)-1==_.inArray(l[m].id,p)&&(c+=f.cart_price_incl_tax(parseFloat(l[m].price)),p.push(l[m].id));t?(e=(a=JSON.parse(t)).type,i=a.value,t=a.code,a=0,i=i||0,"percent"==e&&(c-=a=parseFloat(i)*c/100),"amount"==e&&(c-=a=parseFloat(i)),_(".cart_detail .cart-sidebar .discount-number").empty().html("-"+f.cart_total(a)),_(".cart_detail .cart-sidebar .discount-number").attr("data-discount",a),_(".cart_detail .cart-sidebar .discount-number").attr("data-discount-code",t),_(".cart_detail .cart-sidebar .total-discount").css("display","flex")):(_(".cart_detail .cart-sidebar .discount-number").empty(),_(".cart_detail .cart-sidebar .discount-number").attr("data-discount",0),_(".cart_detail .cart-sidebar .discount-number").attr("data-discount-code",""),_(".cart_detail .cart-sidebar .total-discount").hide());let u=0;r&&("percent"===o&&(u=parseFloat(r)*c/100),"amount"===o&&(u=parseFloat(r))),_(".cart_detail .cart-sidebar .tax-number").empty().html("+"+f.cart_total(u)),_(".cart_detail .cart-sidebar .tax-number").attr("data-tax",u);let b=0;Array.isArray(l)&&l.length&&n&&("percent"===d&&(b=parseFloat(n)*c/100),"amount"===d&&(b=parseFloat(n))),b*=s,_(".cart_detail .cart-sidebar .ticket-fee-number").empty().html("+"+f.cart_total(b)),_(".cart_detail .cart-sidebar .ticket-fee-number").attr("data-ticket-fee",b),Array.isArray(l)&&l.length?(_(".cart_detail .cart-sidebar .total-price").html(f.cart_total(c+u+b)),_(".cart_detail .cart-sidebar .total-cart-info").attr("data-total",c+u+b)):(_(".cart_detail .cart-sidebar .total-price").html(f.cart_total(0)),_(".cart_detail .cart-sidebar .total-cart-info").attr("data-total",0))}_(".cart_detail .cart-sidebar .cart-discount .cart-discount-btn").on("click",function(t){t.preventDefault();t=_(this);t.hide(),t.closest(".cart-discount").find(".form-discount").css("display","flex"),t.closest(".cart-discount").find(".form-discount .input-discount-code input.discount-code").val("")}),_(".cart_detail .cart-sidebar .cart-discount .form-discount i").on("click",function(t){t.preventDefault(),_(this).closest(".cart-discount").find(".form-discount").hide(),_(this).closest(".cart-discount").find(".cart-discount-btn").show(),_(this).closest(".form-discount").find(".input-discount-code i").hide(),_(this).closest(".form-discount").find(".error").hide(),_(this).closest(".form-discount").find(".input-discount-code input.discount-code").val(""),i(!1)}),_(".cart_detail .cart-sidebar .cart-discount .form-discount .cart-discount-submit-code").on("click",function(t){t.preventDefault();var a=_(this),e=a.closest(".form-discount").find(".input-discount-code input.discount-code").val(),t=a.data("movie-id");a.closest(".form-discount").find(".input-discount-code i").show(),a.closest(".form-discount").find(".error").hide(),_.post(ajax_object.ajax_url,{action:"mb_check_discount",data:{ajax_nonce:ajax_object.ajax_nonce,discountCode:e,movieID:t}},function(t){t||a.closest(".form-discount").find(".error").show(),i(t),a.closest(".form-discount").find(".input-discount-code i").hide()})})},cart_price_incl_tax:function(t){var a=t,e=_('.cart_detail input[name="cart-data"]').data("tax-fee"),i=_('.cart_detail input[name="cart-data"]').data("tax-type"),c=_('.cart_detail input[name="cart-data"]').data("tax-incl");return e&&"yes"==c&&("percent"===i&&(c=1+parseFloat(e)/100,a=t-parseFloat(e)/100/c*t),"amount"===i&&(a=t-parseFloat(e))),a},cart_next:function(){_(".cart_detail .cart-sidebar #mb-btn-checkout").on("click",function(t){t.preventDefault();var a=_(this);if(a.hasClass("mb-disable"))return!1;var e,i,c,r,o,n,d,s,l,p=_(".cart_detail .cart-sidebar .wp-content-item .item-info.item-info-map").data("qty");p?(e=_(".cart_detail .cart-sidebar .wp-content-item .item-info.item-info-map").data("price"),i=a.find("#mb_checkout_nonce").val(),a.find(".submit-load-more").css("z-index",1),c=_('.cart_detail input[name="cart-data"]').data("sid"),r=_('.cart_detail input[name="cart-data"]').data("rid"),o="",o=localStorage.getItem(c+"_"+r),o=JSON.parse(o),n=_(".cart_detail .cart-sidebar .content-cart-info .total-discount .discount-number").data("discount"),d=_(".cart_detail .cart-sidebar .content-cart-info .total-discount .discount-number").data("discount-code"),s=_(".cart_detail .cart-sidebar .content-cart-info .total-tax .tax-number").data("tax"),l=_(".cart_detail .cart-sidebar .content-cart-info .ticket-fee .ticket-fee-number").data("ticket-fee"),t=_(".cart_detail .cart-sidebar .total-cart-info").data("total"),_.post(ajax_object.ajax_url,{action:"mb_process_checkout",data:{checkout_nonce:i,showtime_id:c,room_id:r,cart:o,qty:p,subtotal:e,discount:n,discount_code:d,tax:s,ticket_fee:l,total:t}},function(t){var a,e;t&&(t=(a=JSON.parse(t)).mb_message,localStorage.removeItem(c+"_"+r),t?(_(".cart_detail .cart-sidebar .cart-error").html(t).css("display","block"),_(".cart_detail .cart-sidebar .cart-checkout").addClass("mb-disable"),_(".cart_detail .cart-sidebar .submit-load-more").css("z-index",-1),e=10,_(".cart_detail .cart-sidebar .message-error").show().find(".mb-auto-reload").html(a.mb_reload),setInterval(function(){e--,_(".cart_detail .cart-sidebar .message-error .mb-auto-reload .time").html(e),0===e&&location.reload()},1e3)):window.location.href=a.url)})):a.closest(".cart-sidebar").find(".cart-error").css("display","block")})},countdown_checkout:function(){0<_(".countdown-checkout").length&&_(".countdown-checkout").each(function(){var t,a,e,i=_(this),c=i.data("time-countdown-checkout"),r=i.data("redirect"),o=i.data("countdown-checkout-nonce"),n=i.data("booking-id"),d=i.data("movie-id"),s=i.data("showtime-id"),l=i.data("room-id"),p=s&&d?s+"_"+l:"";0==c?_.post(ajax_object.ajax_url,{action:"mb_countdown_checkout",data:{checkout_nonce:o,booking_id:n,movie_id:d,showtime_id:s,room_id:l}},function(t){"success"==t&&(localStorage.removeItem(p),window.location.href=r)}):(t=Math.floor(c/60),a=parseInt(c%60),e=setInterval(function(){t=--a<0?--t:t,a=(a=a<0?59:a)<10?"0"+a:a,t=t<10?"0"+t:t,i.find(".time").html(t+":"+a),t=parseInt(t),(a=parseInt(a))<=0&&t<=0&&(clearInterval(e),_.post(ajax_object.ajax_url,{action:"mb_countdown_checkout",data:{checkout_nonce:o,booking_id:n,movie_id:d,showtime_id:s,room_id:l}},function(t){"success"==t&&(localStorage.removeItem(p),window.location.href=r)}))},1e3))})},mb_trailer_video_popup:function(){_(".btn-trailer-video").on("click",function(t){t.preventDefault();var t=_(this).data("movie-id"),a=_(".mb_trailer_video_popup"),e=a.find(".modal-content"),i=a.find(".ovaicon-cancel");_.post(ajax_object.ajax_url,{action:"mb_get_trailer",data:{ajax_nonce:ajax_object.ajax_nonce,movie_id:t}},function(t){e.html("").append(t),a.css("display","flex"),i.on("click",function(){a.hide(),e.html("")}),_(window).click(function(t){"mb_trailer_video_popup"==t.target.className&&(a.hide(),e.html(""))})})})},mb_trailer_video_popup_for_slick:function(){_(".mb-movie-trailer-slider").on("click",".btn-trailer-video",function(t){t.preventDefault();var t=_(this).data("movie-id"),a=_(".mb_trailer_video_popup"),e=a.find(".modal-content"),i=a.find(".ovaicon-cancel");_.post(ajax_object.ajax_url,{action:"mb_get_trailer",data:{ajax_nonce:ajax_object.ajax_nonce,movie_id:t}},function(t){e.html("").append(t),a.css("display","flex"),i.on("click",function(){a.hide(),e.html("")}),_(window).click(function(t){"mb_trailer_video_popup"==t.target.className&&(a.hide(),e.html(""))})})})}};_(document).ready(function(){f.init(),window.MB_Frontend=f})}(jQuery);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoic2NyaXB0Lm1pbi5qcyIsInNvdXJjZXMiOlsic2NyaXB0LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkKSB7XG4gICAgXCJ1c2Ugc3RyaWN0XCI7XG4gICAgLyogb2JqZWN0IGpzICovXG4gICAgdmFyIE1CX0Zyb250ZW5kID0ge1xuICAgICAgICBpbml0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFBvcHVwIFNob3d0aW1lXG4gICAgICAgICAgICB0aGlzLm1iX3BvcHVwX3Nob3d0aW1lKCk7XG5cbiAgICAgICAgICAgIC8vIENhcnRcbiAgICAgICAgICAgIHRoaXMuY2FydF9zZWF0KCk7XG5cbiAgICAgICAgICAgIC8vIENhcnQgVG90YWxcbiAgICAgICAgICAgIHRoaXMuY2FydF90b3RhbCgpO1xuXG4gICAgICAgICAgICAvLyBDYXJ0IERpc2NvdW50XG4gICAgICAgICAgICB0aGlzLmNhcnRfZGlzY291bnQoKTtcblxuICAgICAgICAgICAgLy8gUHJpY2UgaW5jbHVkZSBUYXhcbiAgICAgICAgICAgIHRoaXMuY2FydF9wcmljZV9pbmNsX3RheCgpO1xuXG4gICAgICAgICAgICAvLyBDYXJ0IE5leHRcbiAgICAgICAgICAgIHRoaXMuY2FydF9uZXh0KCk7XG5cbiAgICAgICAgICAgIC8vIENoZWNrb3V0XG4gICAgICAgICAgICB0aGlzLmNvdW50ZG93bl9jaGVja291dCgpO1xuXG4gICAgICAgICAgICAvLyBUcmFpbGVyIHZpZGVvIHBvcHVwXG4gICAgICAgICAgICB0aGlzLm1iX3RyYWlsZXJfdmlkZW9fcG9wdXAoKTtcblxuICAgICAgICAgICAgLy8gVHJhaWxlciB2aWRlbyBwb3B1cCBpbiBTbGljayBjYXJvdXNlbFxuICAgICAgICAgICAgdGhpcy5tYl90cmFpbGVyX3ZpZGVvX3BvcHVwX2Zvcl9zbGljaygpO1xuICAgICAgICB9LFxuXG4gICAgICAgIG1iX3BvcHVwX3Nob3d0aW1lOiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICQoJy5idG4tYm9va2luZycpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgICAgICAgID0gJCh0aGlzKTtcbiAgICAgICAgICAgICAgICB2YXIgbW92aWVfaWQgICAgPSB0aGF0LmRhdGEoJ21vdmllLWlkJyk7XG4gICAgICAgICAgICAgICAgdmFyIGNsb3NlX3BvcHVwID0gJCgnLm1iX2Jvb2tpbmdfcG9wdXAgLm1iLWJwLWNvbnRhaW5lciAubWItY2xvc2UnKTtcblxuICAgICAgICAgICAgICAgIGNsb3NlX3BvcHVwLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKCcubWJfYm9va2luZ19wb3B1cCcpLnNob3coKTtcbiAgICAgICAgICAgICAgICAkKCcubWJfYm9va2luZ19wb3B1cCAubWItc3Bpbm5lcicpLnNob3coKTtcblxuICAgICAgICAgICAgICAgICQucG9zdCggYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfcG9wdXBfc2hvd3RpbWUnLFxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhamF4X25vbmNlOiBhamF4X29iamVjdC5hamF4X25vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92aWVfaWQ6IG1vdmllX2lkLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIH0sIGZ1bmN0aW9uKHJlc3BvbnNlKSB7XG4gICAgICAgICAgICAgICAgICAgICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1icC1jb250YWluZXIgLm1iLWJwLWNvbnRlbnQnKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1zcGlubmVyJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1icC1jb250YWluZXIgLm1iLWJwLWNvbnRlbnQnKS5odG1sKCcnKS5hcHBlbmQocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGNsb3NlX3BvcHVwLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgIG1iX3BvcHVwX2Nsb3NlX3BvcHVwKGNsb3NlX3BvcHVwKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgZGF5ID0gJCgnLm1iX2Jvb2tpbmdfcG9wdXAgLm1iLWJwLWNvbnRhaW5lciAubWItYnAtY29udGVudCAubWItZGF0ZS10YWJzIC5kYXknKTtcbiAgICAgICAgICAgICAgICAgICAgbWJfcG9wdXBfY2hhbmdlX2RhdGUoZGF5KTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgY2l0eSA9ICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1icC1jb250YWluZXIgLm1iLWJwLWNvbnRlbnQgLmNvbGxhdGVyYWwtdGFicyAubWItY2l0eS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIG1iX3BvcHVwX2NoYW5nZV9jaXR5KGNpdHkpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciByb29tX3R5cGUgPSAkKCcubWJfYm9va2luZ19wb3B1cCAubWItYnAtY29udGFpbmVyIC5tYi1icC1jb250ZW50IC5jb2xsYXRlcmFsLXRhYnMgLm1iLXJvb20tdHlwZS1uYW1lJyk7XG4gICAgICAgICAgICAgICAgICAgIG1iX3BvcHVwX2NoYW5nZV9yb29tX3R5cGUocm9vbV90eXBlKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBDbG9zZVxuICAgICAgICAgICAgZnVuY3Rpb24gbWJfcG9wdXBfY2xvc2VfcG9wdXAoIHRoYXQgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGF0ICE9IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtYl9jb250YWluZXIgPSB0aGF0LmNsb3Nlc3QoJyNtYl9ib29raW5nX3BvcHVwJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhhdC5vbignY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJyNtYl9ib29raW5nX3BvcHVwJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5jbG9zZXN0KCcjbWJfYm9va2luZ19wb3B1cCcpLmZpbmQoJy5tYi1icC1jb250ZW50JykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykuY2xpY2soIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggbWJfY29udGFpbmVyLmlzKGUudGFyZ2V0KSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJyNtYl9ib29raW5nX3BvcHVwJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuY2xvc2VzdCgnI21iX2Jvb2tpbmdfcG9wdXAnKS5maW5kKCcubWItYnAtY29udGVudCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgZGF0ZVxuICAgICAgICAgICAgZnVuY3Rpb24gbWJfcG9wdXBfY2hhbmdlX2RhdGUoIHRoYXQgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGF0ICE9IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGRhdGUgICAgICAgID0gJCh0aGlzKS5kYXRhKCdkYXRlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbW92aWVfaWQgICAgPSAkKHRoaXMpLmNsb3Nlc3QoJyNtYl9ib29raW5nX3BvcHVwJykuZmluZCgnaW5wdXRbbmFtZT1cIm1vdmllX2lkXCJdJykudmFsKCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzcyBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tYi1kYXRlLXRhYnMnKS5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9hZGluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1iX2Jvb2tpbmdfcG9wdXAgLm1iLXNwaW5uZXInKS5zaG93KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjdXJyZW50IGRhdGFcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnI21iX2Jvb2tpbmdfcG9wdXAnKS5maW5kKCcubWItYnAtY29udGVudCAubWItc2hvd3RpbWVzJykuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJyNtYl9ib29raW5nX3BvcHVwJykuZmluZCgnLm1iLWJwLWNvbnRlbnQgZHQudGFiJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnI21iX2Jvb2tpbmdfcG9wdXAnKS5maW5kKCcubWItYnAtY29udGVudCBkZC50YWItY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIG5ldyBkYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV3X3RhYiA9ICQodGhpcykuY2xvc2VzdCgnI21iX2Jvb2tpbmdfcG9wdXAnKS5maW5kKCcubWItYnAtY29udGVudCBkdC50YWJbZGF0YS1kYXRlPVwiJytkYXRlKydcIl0nKS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG5ld190YWJfY29udGFpbmVyID0gbmV3X3RhYi5uZXh0KCdkZC50YWItY29udGFpbmVyJykuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJC5wb3N0KCBhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2dldF9zaG93dGltZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWpheF9ub25jZTogYWpheF9vYmplY3QuYWpheF9ub25jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbW92aWVfaWQ6IG1vdmllX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRlOiBkYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1zcGlubmVyJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmV3X3RhYl9jb250YWluZXIuaHRtbCgnJykuYXBwZW5kKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjbG9zZV9wb3B1cCA9ICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1icC1jb250YWluZXIgLm1iLWNsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWJfcG9wdXBfY2xvc2VfcG9wdXAoY2xvc2VfcG9wdXApO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNpdHkgPSAkKCcubWJfYm9va2luZ19wb3B1cCAubWItYnAtY29udGFpbmVyIC5tYi1icC1jb250ZW50IC5jb2xsYXRlcmFsLXRhYnMgLm1iLWNpdHktbmFtZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iX3BvcHVwX2NoYW5nZV9jaXR5KGNpdHkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJvb21fdHlwZSA9ICQoJy5tYl9ib29raW5nX3BvcHVwIC5tYi1icC1jb250YWluZXIgLm1iLWJwLWNvbnRlbnQgLmNvbGxhdGVyYWwtdGFicyAubWItcm9vbS10eXBlLW5hbWUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYl9wb3B1cF9jaGFuZ2Vfcm9vbV90eXBlKHJvb21fdHlwZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBDaGFuZ2UgY2l0eVxuICAgICAgICAgICAgZnVuY3Rpb24gbWJfcG9wdXBfY2hhbmdlX2NpdHkoIHRoYXQgKSB7XG4gICAgICAgICAgICAgICAgaWYgKCB0aGF0ICE9IG51bGwgKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoYXQub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcudG9nZ2xlLXRhYnMnKS5maW5kKCdsaScpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gJCh0aGlzKS5jbG9zZXN0KCdsaScpLmluZGV4KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSBjbGFzcyBjdXJyZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tYi1zaG93dGltZXMnKS5jaGlsZHJlbignZGwuY29sbGF0ZXJhbC10YWJzJykuY2hpbGRyZW4oJ2R0LnRhYicpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tYi1zaG93dGltZXMnKS5jaGlsZHJlbignZGwuY29sbGF0ZXJhbC10YWJzJykuY2hpbGRyZW4oJ2RkLnRhYi1jb250YWluZXInKS5yZW1vdmVDbGFzcygnY3VycmVudCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgY2xhc3MgY3VycmVudFxuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcubWItc2hvd3RpbWVzJykuY2hpbGRyZW4oJ2RsLmNvbGxhdGVyYWwtdGFicycpLmNoaWxkcmVuKCdkdC50YWInKS5lcShpbmRleCkuYWRkQ2xhc3MoJ2N1cnJlbnQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLm1iLXNob3d0aW1lcycpLmNoaWxkcmVuKCdkbC5jb2xsYXRlcmFsLXRhYnMnKS5jaGlsZHJlbignZGQudGFiLWNvbnRhaW5lcicpLmVxKGluZGV4KS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIENoYW5nZSByb29tXG4gICAgICAgICAgICBmdW5jdGlvbiBtYl9wb3B1cF9jaGFuZ2Vfcm9vbV90eXBlKCB0aGF0ICkge1xuICAgICAgICAgICAgICAgIGlmICggdGhhdCAhPSBudWxsICkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0Lm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLnRvZ2dsZS10YWJzJykuZmluZCgnbGknKS5yZW1vdmVDbGFzcygnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdjdXJyZW50Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBpbmRleCA9ICQodGhpcykuaW5kZXgoKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVtb3ZlIGNsYXNzIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLm1iLXJvb20tdHlwZXMnKS5jaGlsZHJlbignZGwuY29sbGF0ZXJhbC10YWJzJykuY2hpbGRyZW4oJ2R0LnRhYicpLnJlbW92ZUNsYXNzKCdjdXJyZW50Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5tYi1yb29tLXR5cGVzJykuY2hpbGRyZW4oJ2RsLmNvbGxhdGVyYWwtdGFicycpLmNoaWxkcmVuKCdkZC50YWItY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2N1cnJlbnQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIGNsYXNzIGN1cnJlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLm1iLXJvb20tdHlwZXMnKS5jaGlsZHJlbignZGwuY29sbGF0ZXJhbC10YWJzJykuY2hpbGRyZW4oJ2R0LnRhYicpLmVxKGluZGV4KS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcubWItcm9vbS10eXBlcycpLmNoaWxkcmVuKCdkbC5jb2xsYXRlcmFsLXRhYnMnKS5jaGlsZHJlbignZGQudGFiLWNvbnRhaW5lcicpLmVxKGluZGV4KS5hZGRDbGFzcygnY3VycmVudCcpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FydF9zZWF0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGNvbnN0IENBUlQgPSB7XG4gICAgICAgICAgICAgICAgS0VZOiAnJyxcbiAgICAgICAgICAgICAgICBjb250ZW50czogW10sXG4gICAgICAgICAgICAgICAgaW5pdDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIENBUlQuZ2V0X2tleV9jYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgbGV0IF9jb250ZW50cyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCBDQVJULktFWSApO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggX2NvbnRlbnRzICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgQ0FSVC5jb250ZW50cyA9IEpTT04ucGFyc2UoIF9jb250ZW50cyApO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgQ0FSVC5hZGRfc3RvcmUoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICBhZGRfc3RvcmU6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBsZXQgX2NhcnQgPSBKU09OLnN0cmluZ2lmeSggQ0FSVC5jb250ZW50cyApO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSggQ0FSVC5LRVksIF9jYXJ0ICk7XG4gICAgICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgICAgIG1hcF9hZGRfaXRlbTogZnVuY3Rpb24oaWQsIHByaWNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGxldCBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogcHJpY2UsXG4gICAgICAgICAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrX2l0ZW0gPSBDQVJULmNoZWNrX2l0ZW0oaWQpO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggY2hlY2tfaXRlbSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIENBUlQuY29udGVudHMgPSBDQVJULmNvbnRlbnRzLm1hcChmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpdGVtLmlkID09PSBpZCApIHJldHVybiBpdGVtO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgQ0FSVC5jb250ZW50cy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBDQVJULmFkZF9zdG9yZSgpO1xuICAgICAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgICAgICByZW1vdmU6IGZ1bmN0aW9uKCBpZCApIHtcbiAgICAgICAgICAgICAgICAgICAgQ0FSVC5jb250ZW50cyA9IENBUlQuY29udGVudHMuZmlsdGVyKCBmdW5jdGlvbihpdGVtKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGl0ZW0uaWQgIT09IGlkICkgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIENBUlQuYWRkX3N0b3JlKClcbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgZ2V0X2tleV9jYXJ0OiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGtleSAgICAgICAgID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNob3d0aW1lX2lkID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgbGV0IHJvb21faWQgICAgID0gXCJcIjtcblxuICAgICAgICAgICAgICAgICAgICBzaG93dGltZV9pZCA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgnc2lkJyk7XG4gICAgICAgICAgICAgICAgICAgIHJvb21faWQgICAgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCdyaWQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHNob3d0aW1lX2lkICYmIHJvb21faWQgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBDQVJULktFWSA9IHNob3d0aW1lX2lkICsgJ18nICsgcm9vbV9pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIENvb2tpZXMuc2V0KCAnc2hvd3RpbWVfaWQnLCBzaG93dGltZV9pZCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgQ29va2llcy5zZXQoICdyb29tX2lkJywgcm9vbV9pZCApO1xuICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgY2hlY2tfaXRlbTogZnVuY3Rpb24oaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IG1hdGNoID0gQ0FSVC5jb250ZW50cy5maWx0ZXIoZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBpdGVtLmlkID09IGlkICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIGlmICggbWF0Y2ggJiYgbWF0Y2hbMF0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbWF0Y2hbMF07XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICAgICAgc2VhdF9tYXA6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVNlYXQgICAgICAgID0gJChkb2N1bWVudCkuZmluZCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJkYXRhLXNlYXRcIl0nKS5kYXRhKCdzZWF0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhU2VhdEJvb2tlZCAgPSAkKGRvY3VtZW50KS5maW5kKCcuY2FydF9kZXRhaWwgaW5wdXRbbmFtZT1cImRhdGEtc2VhdC1ib29rZWRcIl0nKS5kYXRhKCdzZWF0LWJvb2tlZCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGF0YVNlYXROYW1lICAgID0gW107XG4gICAgICAgICAgICAgICAgICAgIHZhciBkYXRhU2VhdFByaWNlICAgPSBbXTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93dGltZSBJRCAmIFJvb20gSURcbiAgICAgICAgICAgICAgICAgICAgdmFyIHNob3d0aW1lX2lkID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCdzaWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJvb21faWQgICAgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCdyaWQnKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHR5cGVvZiBJbWFnZU1hcFBybyAhPSBcInVuZGVmaW5lZFwiICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW1hZ2UgTWFwIFBybyBJbml0XG4gICAgICAgICAgICAgICAgICAgICAgICBJbWFnZU1hcFByby5zdWJzY3JpYmUoICggYWN0aW9uICkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggYWN0aW9uLnR5cGUgPT09ICdtYXBJbml0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYl9tYXBJbml0KCBhY3Rpb24ucGF5bG9hZC5tYXAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW1hZ2UgTWFwIFBybyBDbGlja1xuICAgICAgICAgICAgICAgICAgICAgICAgSW1hZ2VNYXBQcm8uc3Vic2NyaWJlKCAoIGFjdGlvbiApID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIGFjdGlvbi50eXBlID09PSAnb2JqZWN0Q2xpY2snKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1iX29iamVjdENsaWNrKCBhY3Rpb24ucGF5bG9hZC5tYXAsIGFjdGlvbi5wYXlsb2FkLm9iamVjdCApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiBtYl9tYXBJbml0KCBpbWdNYXBOYW1lICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAhIEltYWdlTWFwUHJvLmlzTW9iaWxlKCkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmNhcnRfZGV0YWlsIC5pbXAtZnVsbHNjcmVlbi1idXR0b24nKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBodG1sICAgID0gJyc7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgICA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBkYXRhTG9jYWxTdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG93dGltZV9pZCArICdfJyArIHJvb21faWQpKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cIml0ZW0taW5mbyBpdGVtLWluZm8tbWFwXCI+JztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sICs9ICc8ZGl2IGNsYXNzPVwiaW5mby10eXBlLXRpY2tldFwiPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzxkaXYgY2xhc3M9XCJ3cC1zZWF0LWluZm9cIj48L2Rpdj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbCArPSAnPGRpdiBjbGFzcz1cImluZm8tc3ViLXByaWNlXCI+PC9kaXY+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0bWwgKz0gJzwvZGl2Pic7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC53cC1jb250ZW50LWl0ZW0nKS5lbXB0eSgpLmh0bWwoaHRtbCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggQXJyYXkuaXNBcnJheShkYXRhTG9jYWxTdG9yYWdlKSAmJiBkYXRhTG9jYWxTdG9yYWdlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAud3AtY29udGVudC1pdGVtJykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLml0ZW0taW5mby5pdGVtLWhlYWRlcicpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRvdGFsLXRheCcpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNhcnQtaW5mbyAucGxhY2Vob2xkZXInKS5jc3MoJ2Rpc3BsYXknLCAnbm9uZScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAud3AtY29udGVudC1pdGVtJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuaXRlbS1pbmZvLml0ZW0taGVhZGVyJykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudG90YWwtdGF4JykuY3NzKCdkaXNwbGF5JywgJ25vbmUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudGlja2V0LWZlZScpLmNzcygnZGlzcGxheScsICdub25lJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNhcnQtaW5mbyAucGxhY2Vob2xkZXInKS5jc3MoJ2Rpc3BsYXknLCAnYmxvY2snKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTWFwIFNlYXQgQm9va2VkXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgeCA9IGRhdGFTZWF0Qm9va2VkLmxlbmd0aCAtIDE7IHggPj0gMDsgeC0tICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoIHZhciBpID0gZGF0YVNlYXQubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0gKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChkYXRhU2VhdFtpXS5pZC5pbmRleE9mKGRhdGFTZWF0Qm9va2VkW3hdKSAhPSAnLTEnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuaW1wLW9iamVjdHMgLmltcC1vYmplY3RbZGF0YS10aXRsZT1cIicgKyBkYXRhU2VhdEJvb2tlZFt4XSArICdcIl0nKS5hZGRDbGFzcygnYm9va2VkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcCBTZWxlY3RlZCBMb2NhbCBTdG9yYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBkYXRhTG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggJC5pbkFycmF5KCBkYXRhTG9jYWxTdG9yYWdlW2ldLmlkLCBkYXRhU2VhdE5hbWUgKSA9PSAtMSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgKz0gTUJfRnJvbnRlbmQuY2FydF9wcmljZV9pbmNsX3RheCggcGFyc2VGbG9hdChkYXRhTG9jYWxTdG9yYWdlW2ldLnByaWNlKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2VhdE5hbWUucHVzaChkYXRhTG9jYWxTdG9yYWdlW2ldLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNlYXRQcmljZS5wdXNoKGRhdGFMb2NhbFN0b3JhZ2VbaV0ucHJpY2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoZG9jdW1lbnQpLmZpbmQoJy5pbXAtb2JqZWN0cyAuaW1wLW9iamVjdFtkYXRhLXRpdGxlPVwiJyArIGRhdGFMb2NhbFN0b3JhZ2VbaV0uaWQgKyAnXCJdJykuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBIVE1MIEJvb2tpbmcgSW5mb1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBodG1sX2luZm8gPSAnPHNwYW4gY2xhc3M9XCJzZWF0LScgKyBpICsgJ1wiPicgKyBkYXRhTG9jYWxTdG9yYWdlW2ldLmlkICsgJzwvc3Bhbj4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC53cC1jb250ZW50LWl0ZW0gLndwLXNlYXQtaW5mbycpLmFwcGVuZChodG1sX2luZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVG90YWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUNhcnQodG90YWwpO1xuICAgICAgICAgICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uIG1iX29iamVjdENsaWNrKCBpbWdNYXBOYW1lLCBzaGFwZVRpdGxlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCAkLmluQXJyYXkoIHNoYXBlVGl0bGUsIGRhdGFTZWF0Qm9va2VkICkgIT09IC0xKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuaW1wLW9iamVjdHMgLmltcC1vYmplY3RbZGF0YS10aXRsZT1cIicgKyBzaGFwZVRpdGxlICsgJ1wiXScpLm9mZihcImNsaWNrXCIpLm9uZSgnY2xpY2sgdG91Y2hzdGFydCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGhhdCAgICAgICAgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWwgICAgICAgPSAwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgY291bnRTZWF0ICAgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGhhdC5oYXNDbGFzcygnc2VsZWN0ZWQnKSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQucmVtb3ZlQ2xhc3MoJ3NlbGVjdGVkJykucmVtb3ZlQXR0cignc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmltcC1vYmplY3RzIC5pbXAtb2JqZWN0W2RhdGEtdGl0bGU9XCInICsgc2hhcGVUaXRsZSArICdcIl0nKS5yZW1vdmVDbGFzcygnc2VsZWN0ZWQnKS5yZW1vdmVBdHRyKCdzZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBsZXQgaSA9IGRhdGFTZWF0TmFtZS5sZW5ndGggLSAxOyBpID49IDA7IGktLSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHNoYXBlVGl0bGUgPT0gZGF0YVNlYXROYW1lW2ldICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2VhdE5hbWUuc3BsaWNlKGksIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2VhdFByaWNlLnNwbGljZShpLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKGRvY3VtZW50KS5maW5kKCcuY2FydF9kZXRhaWwgLndwLXNlYXQtaW5mbyBzcGFuOm50aC1jaGlsZCgnICsgKGkgKyAxKSArICcpJykucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIENBUlQucmVtb3ZlKHNoYXBlVGl0bGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICggbGV0IGkgPSBkYXRhU2VhdFByaWNlLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsICs9IE1CX0Zyb250ZW5kLmNhcnRfcHJpY2VfaW5jbF90YXgoIHBhcnNlRmxvYXQoZGF0YVNlYXRQcmljZVtpXSkgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50U2VhdCA9ICQoJy5jYXJ0X2RldGFpbCAud3Atc2VhdC1pbmZvJykuY2hpbGRyZW4oJ3NwYW4nKS5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuYXR0cignc2VsZWN0ZWQnLCAnc2VsZWN0ZWQnKS5hZGRDbGFzcygnc2VsZWN0ZWQnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJChkb2N1bWVudCkuZmluZCgnLmltcC1vYmplY3RzIC5pbXAtb2JqZWN0W2RhdGEtdGl0bGU9XCInICsgc2hhcGVUaXRsZSArICdcIl0nKS5hdHRyKCdzZWxlY3RlZCcsICdzZWxlY3RlZCcpLmFkZENsYXNzKCdzZWxlY3RlZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBsZXQgaSA9IDA7IGkgPCBkYXRhU2VhdC5sZW5ndGg7IGkrKyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaHRtbF9pbmZvID0gJzxzcGFuIGNsYXNzPVwic2VhdC0nICsgaSArICdcIj4nICsgc2hhcGVUaXRsZSArICc8L3NwYW4+JztcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzZWF0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlYXQgPSBkYXRhU2VhdFtpXS5pZC5zcGxpdCgnLCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VhdCA9IHNlYXQuZmlsdGVyKGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbCAhPSBudWxsICYmIGVsICE9IFwiXCIgJiYgZWwgIT0gXCIgXCI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWF0ID0gc2VhdC5tYXAoZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVsLnRyaW0oKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggc2VhdC5pbmRleE9mKHNoYXBlVGl0bGUpICE9ICctMScgKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YVNlYXROYW1lLnB1c2goc2hhcGVUaXRsZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFTZWF0UHJpY2UucHVzaChkYXRhU2VhdFtpXS5wcmljZSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLndwLXNlYXQtaW5mbycpLmFwcGVuZChodG1sX2luZm8pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBDQVJULm1hcF9hZGRfaXRlbShzaGFwZVRpdGxlLCBkYXRhU2VhdFtpXS5wcmljZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKCBsZXQgaSA9IGRhdGFTZWF0UHJpY2UubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBNQl9Gcm9udGVuZC5jYXJ0X3ByaWNlX2luY2xfdGF4KCBwYXJzZUZsb2F0KGRhdGFTZWF0UHJpY2VbaV0pICk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBVcGRhdGUgVG90YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQ2FydCh0b3RhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERpc2NvdW50XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuY2FydC1kaXNjb3VudCAuZm9ybS1kaXNjb3VudCBpJykuY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbiB1cGRhdGVDYXJ0KCB0b3RhbCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRheCBGZWVcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0YXhGZWUgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCd0YXgtZmVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGF4VHlwZSA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgndGF4LXR5cGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISB0YXhGZWUgKSB0YXhGZWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGlja2V0RmVlICAgICAgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCd0aWNrZXQtZmVlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGlja2V0RmVlVHlwZSAgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCd0aWNrZXQtZmVlLXR5cGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggISB0aWNrZXRGZWUgKSB0aWNrZXRGZWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAud3AtY29udGVudC1pdGVtIC5pbmZvLXN1Yi1wcmljZScpLmh0bWwoIE1CX0Zyb250ZW5kLmNhcnRfdG90YWwoIHRvdGFsICkgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGNvdW50U2VhdCA9IDA7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb3VudFNlYXQgPSAkKCcuY2FydF9kZXRhaWwgLndwLXNlYXQtaW5mbycpLmNoaWxkcmVuKCdzcGFuJykubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAud3AtY29udGVudC1pdGVtIC5pdGVtLWluZm8uaXRlbS1pbmZvLW1hcCcpLmF0dHIoJ2RhdGEtcXR5JywgY291bnRTZWF0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC53cC1jb250ZW50LWl0ZW0gLml0ZW0taW5mby5pdGVtLWluZm8tbWFwJykuYXR0cignZGF0YS1wcmljZScsIHRvdGFsKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGFMb2NhbFN0b3JhZ2UgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHNob3d0aW1lX2lkICsgJ18nICsgcm9vbV9pZCkpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUYXggRmVlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxUYXggPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRheEZlZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRheFR5cGUgPT09ICdwZXJjZW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUYXggPSAoIHBhcnNlRmxvYXQodGF4RmVlKSAqIHRvdGFsICkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXhUeXBlID09PSAnYW1vdW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUYXggPSBwYXJzZUZsb2F0KHRheEZlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudGF4LW51bWJlcicpLmVtcHR5KCkuaHRtbChcIitcIiArIE1CX0Zyb250ZW5kLmNhcnRfdG90YWwoIHRvdGFsVGF4ICkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRheC1udW1iZXInKS5hdHRyKCdkYXRhLXRheCcsIHRvdGFsVGF4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuZFxuXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdG90YWxUaWNrZXRGZWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIEFycmF5LmlzQXJyYXkoZGF0YUxvY2FsU3RvcmFnZSkgJiYgZGF0YUxvY2FsU3RvcmFnZS5sZW5ndGggJiYgdGlja2V0RmVlICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdGlja2V0RmVlVHlwZSA9PT0gJ3BlcmNlbnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRpY2tldEZlZSA9ICggcGFyc2VGbG9hdCh0aWNrZXRGZWUpICogdG90YWwgKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRpY2tldEZlZVR5cGUgPT09ICdhbW91bnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRpY2tldEZlZSA9IHBhcnNlRmxvYXQodGlja2V0RmVlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsVGlja2V0RmVlICo9IGNvdW50U2VhdDtcblxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRpY2tldC1mZWUtbnVtYmVyJykuZW1wdHkoKS5odG1sKFwiK1wiICsgTUJfRnJvbnRlbmQuY2FydF90b3RhbCggdG90YWxUaWNrZXRGZWUgKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudGlja2V0LWZlZS1udW1iZXInKS5hdHRyKCdkYXRhLXRpY2tldC1mZWUnLCB0b3RhbFRpY2tldEZlZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBFbmRcblxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVG90YWxcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC1wcmljZScpLmh0bWwoIE1CX0Zyb250ZW5kLmNhcnRfdG90YWwoIHRvdGFsICsgdG90YWxUYXggKyB0b3RhbFRpY2tldEZlZSApICk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggQXJyYXkuaXNBcnJheShkYXRhTG9jYWxTdG9yYWdlKSAmJiBkYXRhTG9jYWxTdG9yYWdlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAucGxhY2Vob2xkZXInKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNhcnQtZXJyb3InKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLndwLWNvbnRlbnQtaXRlbScpLnNob3coKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuaXRlbS1pbmZvLml0ZW0taGVhZGVyJykuY3NzKCdkaXNwbGF5JywgJ2ZsZXgnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggdG90YWxUYXggKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC10YXgnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC10YXgnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCB0b3RhbFRpY2tldEZlZSApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRpY2tldC1mZWUnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50aWNrZXQtZmVlJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC1jYXJ0LWluZm8nKS5hdHRyKFwiZGF0YS10b3RhbFwiLCB0b3RhbCArIHRvdGFsVGF4ICsgdG90YWxUaWNrZXRGZWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC5jYXJ0LWNoZWNrb3V0JykucmVtb3ZlQ2xhc3MoJ21iLWRpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnQtaW5mbyAucGxhY2Vob2xkZXInKS5zaG93KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLndwLWNvbnRlbnQtaXRlbScpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuaXRlbS1pbmZvLml0ZW0taGVhZGVyJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC10YXgnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRpY2tldC1mZWUnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRvdGFsLWNhcnQtaW5mbycpLmF0dHIoXCJkYXRhLXRvdGFsXCIsIDApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC1wcmljZScpLmh0bWwoIE1CX0Zyb250ZW5kLmNhcnRfdG90YWwoIDAgKSApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC5jYXJ0LWNoZWNrb3V0JykuYWRkQ2xhc3MoJ21iLWRpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBDQVJULmluaXQoKTtcbiAgICAgICAgICAgIENBUlQuc2VhdF9tYXAoKTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYXJ0X3RvdGFsOiBmdW5jdGlvbiggdG90YWwgKSB7XG4gICAgICAgICAgICBsZXQgY3VycmVuY3lTZXR0aW5ncyA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgnY3VycmVuY3ktc2V0dGluZ3MnKTtcblxuICAgICAgICAgICAgaWYgKCBjdXJyZW5jeVNldHRpbmdzICkge1xuICAgICAgICAgICAgICAgIHZhciBjdXJyZW5jeSAgICAgICAgICAgID0gY3VycmVuY3lTZXR0aW5ncy5jdXJyZW5jeSA/IGN1cnJlbmN5U2V0dGluZ3MuY3VycmVuY3kgOiAnJCc7XG4gICAgICAgICAgICAgICAgdmFyIGRlY2ltYWxfc2VwYXJhdG9yICAgPSBjdXJyZW5jeVNldHRpbmdzLmRlY2ltYWxfc2VwYXJhdG9yID8gY3VycmVuY3lTZXR0aW5ncy5kZWNpbWFsX3NlcGFyYXRvciA6ICcuJztcbiAgICAgICAgICAgICAgICB2YXIgdGhvdXNhbmRfc2VwYXJhdG9yICA9IGN1cnJlbmN5U2V0dGluZ3MudGhvdXNhbmRfc2VwYXJhdG9yID8gY3VycmVuY3lTZXR0aW5ncy50aG91c2FuZF9zZXBhcmF0b3IgOiAnLCc7XG4gICAgICAgICAgICAgICAgdmFyIG51bWJlcl9kZWNpbWFscyAgICAgPSBjdXJyZW5jeVNldHRpbmdzLm51bWJlcl9kZWNpbWFscyA/IGN1cnJlbmN5U2V0dGluZ3MubnVtYmVyX2RlY2ltYWxzIDogMDtcblxuICAgICAgICAgICAgICAgIHRvdGFsID0gcGFyc2VGbG9hdCggdG90YWwgKS50b0ZpeGVkKHBhcnNlSW50KG51bWJlcl9kZWNpbWFscykpO1xuICAgICAgICAgICAgICAgIHRvdGFsID0gdG90YWwudG9TdHJpbmcoKS5yZXBsYWNlKFwiLlwiLCBkZWNpbWFsX3NlcGFyYXRvcik7XG4gICAgICAgICAgICAgICAgdG90YWwgPSB0b3RhbC50b1N0cmluZygpLnJlcGxhY2UoLyhcXGQpKD89KFxcZFxcZFxcZCkrKD8hXFxkKSkvZywgXCIkMVwiICsgdGhvdXNhbmRfc2VwYXJhdG9yKTtcblxuXG4gICAgICAgICAgICAgICAgc3dpdGNoICggY3VycmVuY3lTZXR0aW5ncy5jdXJyZW5jeV9wb3NpdGlvbiApIHtcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImxlZnRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsID0gY3VycmVuY3kgKyB0b3RhbDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBjYXNlIFwibGVmdF9zcGFjZVwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSBjdXJyZW5jeSArIFwiIFwiICsgdG90YWw7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0XCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsICsgY3VycmVuY3k7XG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJpZ2h0X3NwYWNlXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCA9IHRvdGFsICsgXCIgXCIgKyBjdXJyZW5jeTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWwgPSBjdXJyZW5jeSArIHRvdGFsO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvdGFsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIGNhcnRfZGlzY291bnQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNhcnQtZGlzY291bnQgLmNhcnQtZGlzY291bnQtYnRuJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICB2YXIgYnRuRGlzY291bnQgPSAkKHRoaXMpO1xuICAgICAgICAgICAgICAgIGJ0bkRpc2NvdW50LmhpZGUoKTtcblxuICAgICAgICAgICAgICAgIGJ0bkRpc2NvdW50LmNsb3Nlc3QoJy5jYXJ0LWRpc2NvdW50JykuZmluZCgnLmZvcm0tZGlzY291bnQnKS5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuICAgICAgICAgICAgICAgIGJ0bkRpc2NvdW50LmNsb3Nlc3QoJy5jYXJ0LWRpc2NvdW50JykuZmluZCgnLmZvcm0tZGlzY291bnQgLmlucHV0LWRpc2NvdW50LWNvZGUgaW5wdXQuZGlzY291bnQtY29kZScpLnZhbCgnJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNhcnQtZGlzY291bnQgLmZvcm0tZGlzY291bnQgaScpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmNhcnQtZGlzY291bnQnKS5maW5kKCcuZm9ybS1kaXNjb3VudCcpLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5jYXJ0LWRpc2NvdW50JykuZmluZCgnLmNhcnQtZGlzY291bnQtYnRuJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmZvcm0tZGlzY291bnQnKS5maW5kKCcuaW5wdXQtZGlzY291bnQtY29kZSBpJykuaGlkZSgpO1xuICAgICAgICAgICAgICAgICQodGhpcykuY2xvc2VzdCgnLmZvcm0tZGlzY291bnQnKS5maW5kKCcuZXJyb3InKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuZm9ybS1kaXNjb3VudCcpLmZpbmQoJy5pbnB1dC1kaXNjb3VudC1jb2RlIGlucHV0LmRpc2NvdW50LWNvZGUnKS52YWwoJycpO1xuXG4gICAgICAgICAgICAgICAgLy8gRGlzY291bnQgQW1vdW50XG4gICAgICAgICAgICAgICAgdXBkYXRlRGlzY291bnQoZmFsc2UpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC5jYXJ0LWRpc2NvdW50IC5mb3JtLWRpc2NvdW50IC5jYXJ0LWRpc2NvdW50LXN1Ym1pdC1jb2RlJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIHN1Ym1pdENvZGUgICAgICA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgdmFyIGRpc2NvdW50Q29kZSAgICA9IHN1Ym1pdENvZGUuY2xvc2VzdCgnLmZvcm0tZGlzY291bnQnKS5maW5kKCcuaW5wdXQtZGlzY291bnQtY29kZSBpbnB1dC5kaXNjb3VudC1jb2RlJykudmFsKCk7XG4gICAgICAgICAgICAgICAgdmFyIG1vdmllSUQgICAgICAgICA9IHN1Ym1pdENvZGUuZGF0YSgnbW92aWUtaWQnKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRDb2RlLmNsb3Nlc3QoJy5mb3JtLWRpc2NvdW50JykuZmluZCgnLmlucHV0LWRpc2NvdW50LWNvZGUgaScpLnNob3coKTtcbiAgICAgICAgICAgICAgICBzdWJtaXRDb2RlLmNsb3Nlc3QoJy5mb3JtLWRpc2NvdW50JykuZmluZCgnLmVycm9yJykuaGlkZSgpO1xuXG4gICAgICAgICAgICAgICAgJC5wb3N0KGFqYXhfb2JqZWN0LmFqYXhfdXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2NoZWNrX2Rpc2NvdW50JyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWpheF9ub25jZTogYWpheF9vYmplY3QuYWpheF9ub25jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50Q29kZTogZGlzY291bnRDb2RlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbW92aWVJRDogbW92aWVJRCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICEgcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdWJtaXRDb2RlLmNsb3Nlc3QoJy5mb3JtLWRpc2NvdW50JykuZmluZCgnLmVycm9yJykuc2hvdygpO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGlzY291bnQoIHJlc3BvbnNlICk7XG5cbiAgICAgICAgICAgICAgICAgICAgc3VibWl0Q29kZS5jbG9zZXN0KCcuZm9ybS1kaXNjb3VudCcpLmZpbmQoJy5pbnB1dC1kaXNjb3VudC1jb2RlIGknKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlRGlzY291bnQoIHJlc3BvbnNlICkge1xuICAgICAgICAgICAgICAgIC8vIFNob3d0aW1lIElEICYgUm9vbSBJRFxuICAgICAgICAgICAgICAgIHZhciBzaG93dGltZV9pZCA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgnc2lkJyk7XG4gICAgICAgICAgICAgICAgdmFyIHJvb21faWQgICAgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCdyaWQnKTtcbiAgICAgICAgICAgICAgICB2YXIgdG90YWwgICAgICAgPSAwO1xuXG4gICAgICAgICAgICAgICAgLy8gVGF4IEZlZVxuICAgICAgICAgICAgICAgIHZhciB0YXhGZWUgID0gJCgnLmNhcnRfZGV0YWlsIGlucHV0W25hbWU9XCJjYXJ0LWRhdGFcIl0nKS5kYXRhKCd0YXgtZmVlJyk7XG4gICAgICAgICAgICAgICAgdmFyIHRheFR5cGUgPSAkKCcuY2FydF9kZXRhaWwgaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RheC10eXBlJyk7XG4gICAgICAgICAgICAgICAgaWYgKCAhIHRheEZlZSApIHRheEZlZSA9IDA7XG5cbiAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgdmFyIHRpY2tldEZlZSAgICAgICA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgndGlja2V0LWZlZScpO1xuICAgICAgICAgICAgICAgIHZhciB0aWNrZXRGZWVUeXBlICAgPSAkKCcuY2FydF9kZXRhaWwgaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RpY2tldC1mZWUtdHlwZScpO1xuICAgICAgICAgICAgICAgIGlmICggISB0aWNrZXRGZWUgKSB0aWNrZXRGZWUgPSAwO1xuXG4gICAgICAgICAgICAgICAgbGV0IGNvdW50U2VhdCA9IDA7XG4gICAgICAgICAgICAgICAgY291bnRTZWF0ID0gJCgnLmNhcnRfZGV0YWlsIC53cC1zZWF0LWluZm8nKS5jaGlsZHJlbignc3BhbicpLmxlbmd0aDtcblxuICAgICAgICAgICAgICAgIGxldCBkYXRhTG9jYWxTdG9yYWdlID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG93dGltZV9pZCArICdfJyArIHJvb21faWQpKTtcbiAgICAgICAgICAgICAgICB2YXIgZGF0YVNlYXROYW1lICAgICA9IFtdO1xuXG4gICAgICAgICAgICAgICAgLy8gTWFwIFNlbGVjdGVkIExvY2FsIFN0b3JhZ2VcbiAgICAgICAgICAgICAgICBmb3IgKCB2YXIgaSA9IDA7IGkgPCBkYXRhTG9jYWxTdG9yYWdlLmxlbmd0aDsgaSsrICkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoICQuaW5BcnJheSggZGF0YUxvY2FsU3RvcmFnZVtpXS5pZCwgZGF0YVNlYXROYW1lICkgPT0gLTEgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCArPSBNQl9Gcm9udGVuZC5jYXJ0X3ByaWNlX2luY2xfdGF4KCBwYXJzZUZsb2F0KGRhdGFMb2NhbFN0b3JhZ2VbaV0ucHJpY2UpICk7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhU2VhdE5hbWUucHVzaChkYXRhTG9jYWxTdG9yYWdlW2ldLmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZXN1bHQgPSBKU09OLnBhcnNlKHJlc3BvbnNlKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgdHlwZURpc2NvdW50ICAgID0gcmVzdWx0LnR5cGU7XG4gICAgICAgICAgICAgICAgICAgIHZhciB2YWx1ZURpc2NvdW50ICAgPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHZhciBjb2RlRGlzY291bnQgICAgPSByZXN1bHQuY29kZTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRvdGFsRGlzY291bnQgICA9IDA7XG4gICAgICAgICAgICAgICAgICAgIGlmICggISB2YWx1ZURpc2NvdW50ICkgdmFsdWVEaXNjb3VudCA9IDA7XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlRGlzY291bnQgPT0gJ3BlcmNlbnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxEaXNjb3VudCA9ICggcGFyc2VGbG9hdCh2YWx1ZURpc2NvdW50KSAqIHRvdGFsICkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbCAtPSB0b3RhbERpc2NvdW50O1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0eXBlRGlzY291bnQgPT0gJ2Ftb3VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbERpc2NvdW50ID0gcGFyc2VGbG9hdCh2YWx1ZURpc2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsIC09IHRvdGFsRGlzY291bnQ7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuZGlzY291bnQtbnVtYmVyJykuZW1wdHkoKS5odG1sKFwiLVwiICsgTUJfRnJvbnRlbmQuY2FydF90b3RhbCggdG90YWxEaXNjb3VudCApKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmRpc2NvdW50LW51bWJlcicpLmF0dHIoJ2RhdGEtZGlzY291bnQnLCB0b3RhbERpc2NvdW50KTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmRpc2NvdW50LW51bWJlcicpLmF0dHIoJ2RhdGEtZGlzY291bnQtY29kZScsIGNvZGVEaXNjb3VudCk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC1kaXNjb3VudCcpLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRGlzY291bnQgQW1vdW50XG4gICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC5kaXNjb3VudC1udW1iZXInKS5lbXB0eSgpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuZGlzY291bnQtbnVtYmVyJykuYXR0cignZGF0YS1kaXNjb3VudCcsIDApO1xuICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuZGlzY291bnQtbnVtYmVyJykuYXR0cignZGF0YS1kaXNjb3VudC1jb2RlJywgJycpO1xuICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudG90YWwtZGlzY291bnQnKS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVGF4IEZlZVxuICAgICAgICAgICAgICAgIGxldCB0b3RhbFRheCA9IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAoIHRheEZlZSApIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0YXhUeXBlID09PSAncGVyY2VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheCA9ICggcGFyc2VGbG9hdCh0YXhGZWUpICogdG90YWwgKSAvIDEwMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICggdGF4VHlwZSA9PT0gJ2Ftb3VudCcgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b3RhbFRheCA9IHBhcnNlRmxvYXQodGF4RmVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudGF4LW51bWJlcicpLmVtcHR5KCkuaHRtbChcIitcIiArIE1CX0Zyb250ZW5kLmNhcnRfdG90YWwoIHRvdGFsVGF4ICkpO1xuICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50YXgtbnVtYmVyJykuYXR0cignZGF0YS10YXgnLCB0b3RhbFRheCk7XG4gICAgICAgICAgICAgICAgLy8gRW5kXG5cbiAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgbGV0IHRvdGFsVGlja2V0RmVlID0gMDtcblxuICAgICAgICAgICAgICAgIGlmICggQXJyYXkuaXNBcnJheShkYXRhTG9jYWxTdG9yYWdlKSAmJiBkYXRhTG9jYWxTdG9yYWdlLmxlbmd0aCAmJiB0aWNrZXRGZWUgKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICggdGlja2V0RmVlVHlwZSA9PT0gJ3BlcmNlbnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUaWNrZXRGZWUgPSAoIHBhcnNlRmxvYXQodGlja2V0RmVlKSAqIHRvdGFsICkgLyAxMDA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoIHRpY2tldEZlZVR5cGUgPT09ICdhbW91bnQnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG90YWxUaWNrZXRGZWUgPSBwYXJzZUZsb2F0KHRpY2tldEZlZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0b3RhbFRpY2tldEZlZSAqPSBjb3VudFNlYXQ7XG5cbiAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudGlja2V0LWZlZS1udW1iZXInKS5lbXB0eSgpLmh0bWwoXCIrXCIgKyBNQl9Gcm9udGVuZC5jYXJ0X3RvdGFsKCB0b3RhbFRpY2tldEZlZSApKTtcbiAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAudGlja2V0LWZlZS1udW1iZXInKS5hdHRyKCdkYXRhLXRpY2tldC1mZWUnLCB0b3RhbFRpY2tldEZlZSk7XG4gICAgICAgICAgICAgICAgLy8gRW5kXG5cbiAgICAgICAgICAgICAgICAvLyBUb3RhbFxuICAgICAgICAgICAgICAgIGlmICggQXJyYXkuaXNBcnJheShkYXRhTG9jYWxTdG9yYWdlKSAmJiBkYXRhTG9jYWxTdG9yYWdlLmxlbmd0aCApIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRvdGFsLXByaWNlJykuaHRtbCggTUJfRnJvbnRlbmQuY2FydF90b3RhbCggdG90YWwgKyB0b3RhbFRheCArIHRvdGFsVGlja2V0RmVlICkgKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRvdGFsLWNhcnQtaW5mbycpLmF0dHIoXCJkYXRhLXRvdGFsXCIsIHRvdGFsICsgdG90YWxUYXggKyB0b3RhbFRpY2tldEZlZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnRvdGFsLXByaWNlJykuaHRtbCggTUJfRnJvbnRlbmQuY2FydF90b3RhbCggMCApICk7XG4gICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC1jYXJ0LWluZm8nKS5hdHRyKFwiZGF0YS10b3RhbFwiLCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG5cbiAgICAgICAgY2FydF9wcmljZV9pbmNsX3RheDogZnVuY3Rpb24oIHByaWNlICkge1xuICAgICAgICAgICAgdmFyIG5ldF9wcmljZSA9IHByaWNlO1xuXG4gICAgICAgICAgICAvLyBUYXggRmVlXG4gICAgICAgICAgICB2YXIgdGF4RmVlICA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgndGF4LWZlZScpO1xuICAgICAgICAgICAgdmFyIHRheFR5cGUgPSAkKCcuY2FydF9kZXRhaWwgaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3RheC10eXBlJyk7XG4gICAgICAgICAgICB2YXIgdGF4SW5jbCA9ICQoJy5jYXJ0X2RldGFpbCBpbnB1dFtuYW1lPVwiY2FydC1kYXRhXCJdJykuZGF0YSgndGF4LWluY2wnKTtcblxuICAgICAgICAgICAgaWYgKCB0YXhGZWUgJiYgdGF4SW5jbCA9PSAneWVzJyApIHtcbiAgICAgICAgICAgICAgICBpZiAoIHRheFR5cGUgPT09ICdwZXJjZW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlZ3VsYXJfdGF4X3JhdGUgICAgPSAxICsgcGFyc2VGbG9hdCh0YXhGZWUpIC8gMTAwO1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGhlX3JhdGUgICAgICAgICAgICA9ICggcGFyc2VGbG9hdCh0YXhGZWUpIC8gMTAwICkgLyByZWd1bGFyX3RheF9yYXRlO1xuICAgICAgICAgICAgICAgICAgICBuZXRfcHJpY2UgICAgICAgICAgICAgICA9IHByaWNlIC0gKCB0aGVfcmF0ZSAqIHByaWNlICk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKCB0YXhUeXBlID09PSAnYW1vdW50JyApIHtcbiAgICAgICAgICAgICAgICAgICAgbmV0X3ByaWNlICA9IHByaWNlIC0gcGFyc2VGbG9hdCh0YXhGZWUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgcmV0dXJuIG5ldF9wcmljZTtcbiAgICAgICAgfSxcblxuICAgICAgICBjYXJ0X25leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgI21iLWJ0bi1jaGVja291dCcpLm9uKCAnY2xpY2snLCBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHRoYXQgPSAkKHRoaXMpO1xuXG4gICAgICAgICAgICAgICAgaWYgKCB0aGF0Lmhhc0NsYXNzKCdtYi1kaXNhYmxlJykgKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBTZWF0XG4gICAgICAgICAgICAgICAgdmFyIHF0eSA9ICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC53cC1jb250ZW50LWl0ZW0gLml0ZW0taW5mby5pdGVtLWluZm8tbWFwJykuZGF0YSgncXR5Jyk7XG5cbiAgICAgICAgICAgICAgICBpZiAoICEgcXR5ICkge1xuICAgICAgICAgICAgICAgICAgICB0aGF0LmNsb3Nlc3QoJy5jYXJ0LXNpZGViYXInKS5maW5kKCcuY2FydC1lcnJvcicpLmNzcygnZGlzcGxheScsICdibG9jaycpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFN1YiBUb3RhbFxuICAgICAgICAgICAgICAgICAgICB2YXIgc3ViVG90YWwgPSAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAud3AtY29udGVudC1pdGVtIC5pdGVtLWluZm8uaXRlbS1pbmZvLW1hcCcpLmRhdGEoJ3ByaWNlJyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2tvdXQgTm9uY2VcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNoZWNrb3V0Tm9uY2UgPSB0aGF0LmZpbmQoJyNtYl9jaGVja291dF9ub25jZScpLnZhbCgpO1xuXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuZmluZCgnLnN1Ym1pdC1sb2FkLW1vcmUnKS5jc3MoJ3otaW5kZXgnLCAxKTtcblxuICAgICAgICAgICAgICAgICAgICB2YXIgc2hvd3RpbWVfaWQgPSAkKCcuY2FydF9kZXRhaWwgaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3NpZCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgcm9vbV9pZCAgICAgPSAkKCcuY2FydF9kZXRhaWwgaW5wdXRbbmFtZT1cImNhcnQtZGF0YVwiXScpLmRhdGEoJ3JpZCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIHZhciBjYXJ0ID0gJyc7XG4gICAgICAgICAgICAgICAgICAgIGNhcnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShzaG93dGltZV9pZCsnXycrcm9vbV9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGNhcnQgPSBKU09OLnBhcnNlKGNhcnQpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIERpc2NvdW50XG4gICAgICAgICAgICAgICAgICAgIHZhciBkaXNjb3VudCAgICAgICAgPSAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuY29udGVudC1jYXJ0LWluZm8gLnRvdGFsLWRpc2NvdW50IC5kaXNjb3VudC1udW1iZXInKS5kYXRhKCdkaXNjb3VudCcpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlzY291bnRDb2RlICAgID0gJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNvbnRlbnQtY2FydC1pbmZvIC50b3RhbC1kaXNjb3VudCAuZGlzY291bnQtbnVtYmVyJykuZGF0YSgnZGlzY291bnQtY29kZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRheFxuICAgICAgICAgICAgICAgICAgICB2YXIgdGF4ID0gJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNvbnRlbnQtY2FydC1pbmZvIC50b3RhbC10YXggLnRheC1udW1iZXInKS5kYXRhKCd0YXgnKTtcblxuICAgICAgICAgICAgICAgICAgICAvLyBUaWNrZXQgRmVlXG4gICAgICAgICAgICAgICAgICAgIHZhciB0aWNrZXRGZWUgPSAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAuY29udGVudC1jYXJ0LWluZm8gLnRpY2tldC1mZWUgLnRpY2tldC1mZWUtbnVtYmVyJykuZGF0YSgndGlja2V0LWZlZScpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIFRvdGFsXG4gICAgICAgICAgICAgICAgICAgIHZhciB0b3RhbCA9ICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC50b3RhbC1jYXJ0LWluZm8nKS5kYXRhKCd0b3RhbCcpO1xuXG4gICAgICAgICAgICAgICAgICAgICQucG9zdChhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfcHJvY2Vzc19jaGVja291dCcsXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tvdXRfbm9uY2U6IGNoZWNrb3V0Tm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd3RpbWVfaWQ6IHNob3d0aW1lX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21faWQ6IHJvb21faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FydDogY2FydCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBxdHk6IHF0eSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdWJ0b3RhbDogc3ViVG90YWwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzY291bnQ6IGRpc2NvdW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc2NvdW50X2NvZGU6IGRpc2NvdW50Q29kZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXg6IHRheCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aWNrZXRfZmVlOiB0aWNrZXRGZWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG90YWw6IHRvdGFsLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggcmVzcG9uc2UgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlc3VsdCAgICAgID0gSlNPTi5wYXJzZShyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGVycm9yX21zZyAgID0gcmVzdWx0Lm1iX21lc3NhZ2U7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShzaG93dGltZV9pZCsnXycrcm9vbV9pZCk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoICEgZXJyb3JfbXNnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlc3VsdC51cmw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLmNhcnQtZXJyb3InKS5odG1sKGVycm9yX21zZykuY3NzKCdkaXNwbGF5JywgJ2Jsb2NrJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQoJy5jYXJ0X2RldGFpbCAuY2FydC1zaWRlYmFyIC5jYXJ0LWNoZWNrb3V0JykuYWRkQ2xhc3MoJ21iLWRpc2FibGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJCgnLmNhcnRfZGV0YWlsIC5jYXJ0LXNpZGViYXIgLnN1Ym1pdC1sb2FkLW1vcmUnKS5jc3MoICd6LWluZGV4JywgLTEgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWxvYWQgcGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgdGltZSA9IDEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAubWVzc2FnZS1lcnJvcicpLnNob3coKS5maW5kKCcubWItYXV0by1yZWxvYWQnKS5odG1sKHJlc3VsdC5tYl9yZWxvYWQpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGltZS0tO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcuY2FydF9kZXRhaWwgLmNhcnQtc2lkZWJhciAubWVzc2FnZS1lcnJvciAubWItYXV0by1yZWxvYWQgLnRpbWUnKS5odG1sKHRpbWUpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHRpbWUgPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb2NhdGlvbi5yZWxvYWQoKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LFxuXG4gICAgICAgIGNvdW50ZG93bl9jaGVja291dDogZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoICQoJy5jb3VudGRvd24tY2hlY2tvdXQnKS5sZW5ndGggPiAwICkge1xuICAgICAgICAgICAgICAgICQoJy5jb3VudGRvd24tY2hlY2tvdXQnKS5lYWNoKCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRoYXQgICAgICAgICA9ICQodGhpcyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0aW1lICAgICAgICAgPSB0aGF0LmRhdGEoJ3RpbWUtY291bnRkb3duLWNoZWNrb3V0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByZWRpcmVjdCAgICAgPSB0aGF0LmRhdGEoJ3JlZGlyZWN0Jyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBub25jZSAgICAgICAgPSB0aGF0LmRhdGEoJ2NvdW50ZG93bi1jaGVja291dC1ub25jZScpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgYm9va2luZ19pZCAgID0gdGhhdC5kYXRhKCdib29raW5nLWlkJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBtb3ZpZV9pZCAgICAgPSB0aGF0LmRhdGEoJ21vdmllLWlkJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzaG93dGltZV9pZCAgPSB0aGF0LmRhdGEoJ3Nob3d0aW1lLWlkJyk7XG4gICAgICAgICAgICAgICAgICAgIHZhciByb29tX2lkICAgICAgPSB0aGF0LmRhdGEoJ3Jvb20taWQnKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGtleV9zdG9yZSAgICA9IHNob3d0aW1lX2lkICsgJ18nICsgcm9vbV9pZDtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoICEgc2hvd3RpbWVfaWQgfHwgISBtb3ZpZV9pZCApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleV9zdG9yZSA9ICcnO1xuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKCB0aW1lID09IDAgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLnBvc3QoYWpheF9vYmplY3QuYWpheF91cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdtYl9jb3VudGRvd25fY2hlY2tvdXQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tvdXRfbm9uY2U6IG5vbmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib29raW5nX2lkOiBib29raW5nX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZpZV9pZDogbW92aWVfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNob3d0aW1lX2lkOiBzaG93dGltZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV9pZDogcm9vbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIHJlc3BvbnNlID09ICdzdWNjZXNzJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5X3N0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSByZWRpcmVjdDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBtaW51dGVzID0gTWF0aC5mbG9vciggdGltZSAvIDYwICk7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgc2Vjb25kcyA9IHBhcnNlSW50KCB0aW1lICUgNjAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGludGVydmFsID0gc2V0SW50ZXJ2YWwoIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC0tc2Vjb25kcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGVzID0gKHNlY29uZHMgPCAwKSA/IC0tbWludXRlcyA6IG1pbnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IChzZWNvbmRzIDwgMCkgPyA1OSA6IHNlY29uZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IChzZWNvbmRzIDwgMTApID8gJzAnICsgc2Vjb25kcyA6IHNlY29uZHM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IChtaW51dGVzIDwgMTApID8gJzAnICsgbWludXRlcyA6IG1pbnV0ZXM7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhhdC5maW5kKCcudGltZScpLmh0bWwobWludXRlcyArICc6JyArIHNlY29uZHMpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWludXRlcyA9IHBhcnNlSW50KG1pbnV0ZXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZHMgPSBwYXJzZUludChzZWNvbmRzKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICggKHNlY29uZHMgPD0gMCApICYmICggbWludXRlcyA8PSAwICkgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWwpO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICQucG9zdChhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYWN0aW9uOiAnbWJfY291bnRkb3duX2NoZWNrb3V0JyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja291dF9ub25jZTogbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9va2luZ19pZDogYm9va2luZ19pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtb3ZpZV9pZDogbW92aWVfaWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvd3RpbWVfaWQ6IHNob3d0aW1lX2lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21faWQ6IHJvb21faWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCByZXNwb25zZSA9PSAnc3VjY2VzcycgKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oa2V5X3N0b3JlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9IHJlZGlyZWN0O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCAxMDAwKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuXG4gICAgICAgIG1iX3RyYWlsZXJfdmlkZW9fcG9wdXA6IGZ1bmN0aW9uKCkgeyBcblxuICAgICAgICAgICAgJCgnLmJ0bi10cmFpbGVyLXZpZGVvJykub24oICdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgdmFyIG1vdmllX2lkID0gJCh0aGlzKS5kYXRhKCdtb3ZpZS1pZCcpO1xuXG4gICAgICAgICAgICAgICAgdmFyIHZpZGVvX2NvbnRhaW5lciA9ICQoJy5tYl90cmFpbGVyX3ZpZGVvX3BvcHVwJyk7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsX2NvbnRlbnQgICA9IHZpZGVvX2NvbnRhaW5lci5maW5kKCcubW9kYWwtY29udGVudCcpO1xuICAgICAgICAgICAgICAgIHZhciBtb2RhbF9jbG9zZSAgICAgPSB2aWRlb19jb250YWluZXIuZmluZCgnLm92YWljb24tY2FuY2VsJyk7IFxuXG4gICAgICAgICAgICAgICAgJC5wb3N0KCBhamF4X29iamVjdC5hamF4X3VybCwge1xuICAgICAgICAgICAgICAgICAgICBhY3Rpb246ICdtYl9nZXRfdHJhaWxlcicsXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFqYXhfbm9uY2U6IGFqYXhfb2JqZWN0LmFqYXhfbm9uY2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb3ZpZV9pZDogbW92aWVfaWQsXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfSwgZnVuY3Rpb24ocmVzcG9uc2UpIHtcblxuICAgICAgICAgICAgICAgICAgICBtb2RhbF9jb250ZW50Lmh0bWwoJycpLmFwcGVuZChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgIHZpZGVvX2NvbnRhaW5lci5jc3MoJ2Rpc3BsYXknLCAnZmxleCcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIHZpZGVvXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsX2Nsb3NlLm9uKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9fY29udGFpbmVyLmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsX2NvbnRlbnQuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIHdpbmRvdyBjbGlja1xuICAgICAgICAgICAgICAgICAgICAkKHdpbmRvdykuY2xpY2soIGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICggZS50YXJnZXQuY2xhc3NOYW1lID09ICdtYl90cmFpbGVyX3ZpZGVvX3BvcHVwJyApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2aWRlb19jb250YWluZXIuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZGFsX2NvbnRlbnQuaHRtbCgnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9LFxuXG4gICAgICAgIG1iX3RyYWlsZXJfdmlkZW9fcG9wdXBfZm9yX3NsaWNrOiBmdW5jdGlvbigpIHsgXG5cbiAgICAgICAgICAgICQoJy5tYi1tb3ZpZS10cmFpbGVyLXNsaWRlcicpLm9uKCAnY2xpY2snLCAnLmJ0bi10cmFpbGVyLXZpZGVvJywgZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICB2YXIgbW92aWVfaWQgPSAkKHRoaXMpLmRhdGEoJ21vdmllLWlkJyk7XG5cbiAgICAgICAgICAgICAgICB2YXIgdmlkZW9fY29udGFpbmVyID0gJCgnLm1iX3RyYWlsZXJfdmlkZW9fcG9wdXAnKTtcbiAgICAgICAgICAgICAgICB2YXIgbW9kYWxfY29udGVudCAgID0gdmlkZW9fY29udGFpbmVyLmZpbmQoJy5tb2RhbC1jb250ZW50Jyk7XG4gICAgICAgICAgICAgICAgdmFyIG1vZGFsX2Nsb3NlICAgICA9IHZpZGVvX2NvbnRhaW5lci5maW5kKCcub3ZhaWNvbi1jYW5jZWwnKTsgXG5cbiAgICAgICAgICAgICAgICAkLnBvc3QoIGFqYXhfb2JqZWN0LmFqYXhfdXJsLCB7XG4gICAgICAgICAgICAgICAgICAgIGFjdGlvbjogJ21iX2dldF90cmFpbGVyJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWpheF9ub25jZTogYWpheF9vYmplY3QuYWpheF9ub25jZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vdmllX2lkOiBtb3ZpZV9pZCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbihyZXNwb25zZSkge1xuXG4gICAgICAgICAgICAgICAgICAgIG1vZGFsX2NvbnRlbnQuaHRtbCgnJykuYXBwZW5kKHJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9fY29udGFpbmVyLmNzcygnZGlzcGxheScsICdmbGV4Jyk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gY2xvc2UgdmlkZW9cbiAgICAgICAgICAgICAgICAgICAgbW9kYWxfY2xvc2Uub24oJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2aWRlb19jb250YWluZXIuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxfY29udGVudC5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgLy8gd2luZG93IGNsaWNrXG4gICAgICAgICAgICAgICAgICAgICQod2luZG93KS5jbGljayggZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCBlLnRhcmdldC5jbGFzc05hbWUgPT0gJ21iX3RyYWlsZXJfdmlkZW9fcG9wdXAnICkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvX2NvbnRhaW5lci5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbW9kYWxfY29udGVudC5odG1sKCcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgIH0sXG5cbiAgICB9XG5cbiAgICAvKiByZWFkeSAqL1xuICAgICQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBNQl9Gcm9udGVuZC5pbml0KCk7XG4gICAgICAgIHdpbmRvdy5NQl9Gcm9udGVuZCA9IE1CX0Zyb250ZW5kO1xuICAgIH0pO1xuXG59KShqUXVlcnkpOyJdLCJuYW1lcyI6WyIkIiwiTUJfRnJvbnRlbmQiLCJpbml0IiwidGhpcyIsIm1iX3BvcHVwX3Nob3d0aW1lIiwiY2FydF9zZWF0IiwiY2FydF90b3RhbCIsImNhcnRfZGlzY291bnQiLCJjYXJ0X3ByaWNlX2luY2xfdGF4IiwiY2FydF9uZXh0IiwiY291bnRkb3duX2NoZWNrb3V0IiwibWJfdHJhaWxlcl92aWRlb19wb3B1cCIsIm1iX3RyYWlsZXJfdmlkZW9fcG9wdXBfZm9yX3NsaWNrIiwibWJfcG9wdXBfY2xvc2VfcG9wdXAiLCJ0aGF0IiwibWJfY29udGFpbmVyIiwiY2xvc2VzdCIsIm9uIiwiZSIsInByZXZlbnREZWZhdWx0IiwiaGlkZSIsImZpbmQiLCJ3aW5kb3ciLCJjbGljayIsImlzIiwidGFyZ2V0IiwibWJfcG9wdXBfY2hhbmdlX2NpdHkiLCJyZW1vdmVDbGFzcyIsImFkZENsYXNzIiwiaW5kZXgiLCJjaGlsZHJlbiIsImVxIiwibWJfcG9wdXBfY2hhbmdlX3Jvb21fdHlwZSIsIm1vdmllX2lkIiwiZGF0YSIsImNsb3NlX3BvcHVwIiwic2hvdyIsInBvc3QiLCJhamF4X29iamVjdCIsImFqYXhfdXJsIiwiYWN0aW9uIiwiYWpheF9ub25jZSIsInJlc3BvbnNlIiwiaHRtbCIsImFwcGVuZCIsImNzcyIsImRheSIsImRhdGUiLCJ2YWwiLCJuZXdfdGFiX2NvbnRhaW5lciIsIm5leHQiLCJDQVJUIiwiS0VZIiwiY29udGVudHMiLCJnZXRfa2V5X2NhcnQiLCJfY29udGVudHMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiYWRkX3N0b3JlIiwiX2NhcnQiLCJzdHJpbmdpZnkiLCJzZXRJdGVtIiwibWFwX2FkZF9pdGVtIiwiaWQiLCJwcmljZSIsIm9iaiIsImNoZWNrX2l0ZW0iLCJtYXAiLCJpdGVtIiwicHVzaCIsInJlbW92ZSIsImZpbHRlciIsInNob3d0aW1lX2lkIiwicm9vbV9pZCIsIkNvb2tpZXMiLCJzZXQiLCJtYXRjaCIsInNlYXRfbWFwIiwiZGF0YVNlYXQiLCJkb2N1bWVudCIsImRhdGFTZWF0Qm9va2VkIiwiZGF0YVNlYXROYW1lIiwiZGF0YVNlYXRQcmljZSIsInVwZGF0ZUNhcnQiLCJ0b3RhbCIsInRheEZlZSIsInRheFR5cGUiLCJ0aWNrZXRGZWUiLCJ0aWNrZXRGZWVUeXBlIiwiY291bnRTZWF0IiwibGVuZ3RoIiwiYXR0ciIsImRhdGFMb2NhbFN0b3JhZ2UiLCJ0b3RhbFRheCIsInBhcnNlRmxvYXQiLCJlbXB0eSIsInRvdGFsVGlja2V0RmVlIiwiQXJyYXkiLCJpc0FycmF5IiwiSW1hZ2VNYXBQcm8iLCJzdWJzY3JpYmUiLCJ0eXBlIiwiaXNNb2JpbGUiLCJ4IiwiaSIsImluZGV4T2YiLCJpbkFycmF5IiwiaHRtbF9pbmZvIiwibWJfbWFwSW5pdCIsInBheWxvYWQiLCJzaGFwZVRpdGxlIiwib2JqZWN0Iiwib2ZmIiwib25lIiwiaGFzQ2xhc3MiLCJyZW1vdmVBdHRyIiwic3BsaWNlIiwic2VhdCIsInNwbGl0IiwiZWwiLCJ0cmltIiwiY3VycmVuY3lTZXR0aW5ncyIsImN1cnJlbmN5IiwiZGVjaW1hbF9zZXBhcmF0b3IiLCJ0aG91c2FuZF9zZXBhcmF0b3IiLCJudW1iZXJfZGVjaW1hbHMiLCJ0b0ZpeGVkIiwicGFyc2VJbnQiLCJ0b1N0cmluZyIsInJlcGxhY2UiLCJjdXJyZW5jeV9wb3NpdGlvbiIsInVwZGF0ZURpc2NvdW50IiwidG90YWxEaXNjb3VudCIsInR5cGVEaXNjb3VudCIsInJlc3VsdCIsInZhbHVlRGlzY291bnQiLCJ2YWx1ZSIsImNvZGVEaXNjb3VudCIsImNvZGUiLCJidG5EaXNjb3VudCIsInN1Ym1pdENvZGUiLCJkaXNjb3VudENvZGUiLCJtb3ZpZUlEIiwibmV0X3ByaWNlIiwidGF4SW5jbCIsInJlZ3VsYXJfdGF4X3JhdGUiLCJzdWJUb3RhbCIsImNoZWNrb3V0Tm9uY2UiLCJjYXJ0IiwiZGlzY291bnQiLCJ0YXgiLCJxdHkiLCJjaGVja291dF9ub25jZSIsInN1YnRvdGFsIiwiZGlzY291bnRfY29kZSIsInRpY2tldF9mZWUiLCJ0aW1lIiwiZXJyb3JfbXNnIiwibWJfbWVzc2FnZSIsInJlbW92ZUl0ZW0iLCJtYl9yZWxvYWQiLCJzZXRJbnRlcnZhbCIsImxvY2F0aW9uIiwicmVsb2FkIiwiaHJlZiIsInVybCIsImVhY2giLCJtaW51dGVzIiwic2Vjb25kcyIsImludGVydmFsIiwicmVkaXJlY3QiLCJub25jZSIsImJvb2tpbmdfaWQiLCJrZXlfc3RvcmUiLCJNYXRoIiwiZmxvb3IiLCJjbGVhckludGVydmFsIiwidmlkZW9fY29udGFpbmVyIiwibW9kYWxfY29udGVudCIsIm1vZGFsX2Nsb3NlIiwiY2xhc3NOYW1lIiwicmVhZHkiLCJqUXVlcnkiXSwibWFwcGluZ3MiOiJDQUFBLFNBQVVBLGdCQUdOLElBQUlDLEVBQWMsQ0FDZEMsS0FBTSxXQUVGQyxLQUFLQyxvQkFHTEQsS0FBS0UsWUFHTEYsS0FBS0csYUFHTEgsS0FBS0ksZ0JBR0xKLEtBQUtLLHNCQUdM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